cmake_minimum_required(VERSION 3.10)
subdirs(source)
subdirs(hosts)

set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake/")
include(cotire)

set(SRC_MATHS
    ${CMAKE_SOURCE_DIR}/source/src/quaternion.cpp
    ${CMAKE_SOURCE_DIR}/source/src/math3d.cpp
    ${CMAKE_SOURCE_DIR}/source/src/numeric.cpp
    ${CMAKE_SOURCE_DIR}/source/src/gaussian.cpp
    ${CMAKE_SOURCE_DIR}/source/src/bezier.cpp
    ${CMAKE_SOURCE_DIR}/source/src/cspline.cpp
    ${CMAKE_SOURCE_DIR}/source/src/easing.cpp
    ${CMAKE_SOURCE_DIR}/source/src/slerp_interpolator.cpp
    ${CMAKE_SOURCE_DIR}/source/src/algorithms.cpp
    ${CMAKE_SOURCE_DIR}/source/src/moving_average.cpp
    ${CMAKE_SOURCE_DIR}/source/src/colors.cpp)

set(SRC_CORE
    ${CMAKE_SOURCE_DIR}/source/src/wcore.cpp
    ${CMAKE_SOURCE_DIR}/source/src/engine_core.cpp
    ${CMAKE_SOURCE_DIR}/source/src/context.cpp
    ${CMAKE_SOURCE_DIR}/source/src/error.cpp
    ${CMAKE_SOURCE_DIR}/source/src/stack_trace.cpp
    ${CMAKE_SOURCE_DIR}/source/src/value_map.cpp
    ${CMAKE_SOURCE_DIR}/source/src/config.cpp
    ${CMAKE_SOURCE_DIR}/source/src/io_utils.cpp
    ${CMAKE_SOURCE_DIR}/source/src/globals.cpp
    ${CMAKE_SOURCE_DIR}/source/src/informer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/listener.cpp
    ${CMAKE_SOURCE_DIR}/source/src/logger.cpp
    ${CMAKE_SOURCE_DIR}/source/src/intern_string.cpp
    ${CMAKE_SOURCE_DIR}/source/src/message_tracker.cpp
    ${CMAKE_SOURCE_DIR}/source/src/wentity.cpp
    ${CMAKE_SOURCE_DIR}/source/src/wcomponent.cpp
    ${CMAKE_SOURCE_DIR}/source/src/game_clock.cpp
    ${CMAKE_SOURCE_DIR}/source/src/chunk.cpp
    ${CMAKE_SOURCE_DIR}/source/src/chunk_manager.cpp
    ${CMAKE_SOURCE_DIR}/source/src/scene.cpp
    ${CMAKE_SOURCE_DIR}/source/src/scene_loader.cpp
    ${CMAKE_SOURCE_DIR}/source/src/editor.cpp
    ${CMAKE_SOURCE_DIR}/source/src/editor_tweaks.cpp
    ${CMAKE_SOURCE_DIR}/source/src/file_system.cpp
    ${CMAKE_SOURCE_DIR}/source/src/game_system.cpp
    ${CMAKE_SOURCE_DIR}/source/src/entity_system.cpp
    ${CMAKE_SOURCE_DIR}/source/src/sound_system.cpp
    ${CMAKE_SOURCE_DIR}/source/src/input_handler.cpp
    ${CMAKE_SOURCE_DIR}/source/src/keymap.cpp
    ${CMAKE_SOURCE_DIR}/source/src/debug_info.cpp
    ${CMAKE_SOURCE_DIR}/source/src/gui_utils.cpp
    ${CMAKE_SOURCE_DIR}/source/src/xml_utils.cpp
    ${CMAKE_SOURCE_DIR}/source/src/xml_parser.cpp)

set(SRC_3D
    ${CMAKE_SOURCE_DIR}/source/src/gfx_driver.cpp
    ${CMAKE_SOURCE_DIR}/source/src/model.cpp
    ${CMAKE_SOURCE_DIR}/source/src/mesh_descriptor.cpp
    ${CMAKE_SOURCE_DIR}/source/src/surface_mesh_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/material_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/model_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/terrain_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/entity_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/game_object_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/sky.cpp
    ${CMAKE_SOURCE_DIR}/source/src/transformation.cpp
    ${CMAKE_SOURCE_DIR}/source/src/camera.cpp
    ${CMAKE_SOURCE_DIR}/source/src/camera_controller.cpp
    ${CMAKE_SOURCE_DIR}/source/src/shader.cpp
    ${CMAKE_SOURCE_DIR}/source/src/height_map.cpp
    ${CMAKE_SOURCE_DIR}/source/src/obj_loader.cpp
    ${CMAKE_SOURCE_DIR}/source/src/heightmap_generator.cpp
    ${CMAKE_SOURCE_DIR}/source/src/tree_generator.cpp
    ${CMAKE_SOURCE_DIR}/source/src/rock_generator.cpp
    ${CMAKE_SOURCE_DIR}/source/src/terrain_patch.cpp
    ${CMAKE_SOURCE_DIR}/source/src/surface_mesh.cpp
    ${CMAKE_SOURCE_DIR}/source/src/mesh_factory.cpp
    ${CMAKE_SOURCE_DIR}/source/src/lights.cpp
    ${CMAKE_SOURCE_DIR}/source/src/frame_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/buffer_module.cpp
    ${CMAKE_SOURCE_DIR}/source/src/ping_pong_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/g_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/l_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/shadow_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/SSAO_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/bounding_boxes.cpp
    ${CMAKE_SOURCE_DIR}/source/src/ray.cpp
    ${CMAKE_SOURCE_DIR}/source/src/ray_caster.cpp
    ${CMAKE_SOURCE_DIR}/source/src/geometry_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/shadow_map_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/SSAO_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/lighting_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/forward_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/bloom_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/post_processing_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/debug_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/text_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/gui_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/debug_overlay_renderer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/daylight.cpp
    ${CMAKE_SOURCE_DIR}/source/src/pipeline.cpp)

set(SRC_RES
    ${CMAKE_SOURCE_DIR}/source/src/png_loader.cpp
    ${CMAKE_SOURCE_DIR}/source/src/pixel_buffer.cpp
    ${CMAKE_SOURCE_DIR}/source/src/texture.cpp
    ${CMAKE_SOURCE_DIR}/source/src/material.cpp
    ${CMAKE_SOURCE_DIR}/source/src/material_common.cpp)

set(SRC_IMGUI
    ${CMAKE_SOURCE_DIR}/source/vendor/imgui/imgui.cpp
    ${CMAKE_SOURCE_DIR}/source/vendor/imgui/imgui_draw.cpp
    ${CMAKE_SOURCE_DIR}/source/vendor/imgui/imgui_widgets.cpp
    ${CMAKE_SOURCE_DIR}/source/vendor/imgui/imgui_impl_glfw.cpp
    ${CMAKE_SOURCE_DIR}/source/vendor/imgui/imgui_impl_opengl3.cpp)
